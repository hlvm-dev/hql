{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "HQL",
  "scopeName": "source.hql",
  "fileTypes": [
    "hql"
  ],
  "patterns": [
    {
      "include": "#comment"
    },
    {
      "include": "#string"
    },
    {
      "include": "#number"
    },
    {
      "include": "#keyword"
    },
    {
      "include": "#constant"
    },
    {
      "include": "#function"
    },
    {
      "include": "#operator"
    },
    {
      "include": "#special"
    },
    {
      "include": "#bracket"
    }
  ],
  "repository": {
    "comment": {
      "patterns": [
        {
          "name": "comment.line.semicolon.hql",
          "match": ";;.*$"
        }
      ]
    },
    "string": {
      "patterns": [
        {
          "name": "string.quoted.double.hql",
          "begin": "\"",
          "end": "\"",
          "patterns": [
            {
              "name": "constant.character.escape.hql",
              "match": "\\\\."
            }
          ]
        },
        {
          "name": "string.quoted.template.hql",
          "begin": "`",
          "end": "`",
          "patterns": [
            {
              "name": "constant.character.escape.hql",
              "match": "\\\\."
            }
          ]
        }
      ]
    },
    "number": {
      "patterns": [
        {
          "name": "constant.numeric.hex.hql",
          "match": "\\b0[xX][0-9a-fA-F]+\\b"
        },
        {
          "name": "constant.numeric.binary.hql",
          "match": "\\b0[bB][01]+\\b"
        },
        {
          "name": "constant.numeric.octal.hql",
          "match": "\\b0[oO][0-7]+\\b"
        },
        {
          "name": "constant.numeric.hql",
          "match": "\\b-?[0-9]+(\\.[0-9]+)?([eE][+-]?[0-9]+)?\\b"
        }
      ]
    },
    "keyword": {
      "patterns": [
        {
          "name": "keyword.control.hql",
          "match": "\\b(if|do|loop|recur|return|cond|when|unless|match|case|default|else|for|while|dotimes|repeat|try|catch|finally|throw|await|quote|quasiquote|unquote|unquote-splicing)\\b"
        },
        {
          "name": "keyword.declaration.hql",
          "match": "\\b(let|var|const|def|fn|function|class|enum|macro|import|export|new|from|as|field)\\b"
        },
        {
          "name": "keyword.operator.logical.word.hql",
          "match": "\\b(and|or|not)\\b"
        }
      ]
    },
    "constant": {
      "patterns": [
        {
          "name": "constant.language.hql",
          "match": "\\b(null|undefined|true|false|nil)\\b"
        },
        {
          "name": "constant.language.keyword.hql",
          "match": ":[a-zA-Z_][a-zA-Z0-9_-]*"
        }
      ]
    },
    "function": {
      "patterns": [
        {
          "name": "entity.name.function.definition.hql",
          "match": "(?<=\\(fn\\s+)[a-zA-Z_][a-zA-Z0-9_-]*"
        },
        {
          "name": "entity.name.function.definition.hql",
          "match": "(?<=\\(macro\\s+)[a-zA-Z_][a-zA-Z0-9_-]*"
        },
        {
          "name": "entity.name.class.hql",
          "match": "(?<=\\(class\\s+)[A-Z][a-zA-Z0-9_]*"
        },
        {
          "name": "entity.name.type.enum.hql",
          "match": "(?<=\\(enum\\s+)[A-Z][a-zA-Z0-9_]*"
        },
        {
          "name": "support.function.builtin.hql",
          "match": "\\b(isList|isSymbol|name|gensym|not|str|mod|vector|list|hash\\-map|hash\\-set|macro|import|export|new|length|isNull|isUndefined|isNil|isDefined|notNil|isString|isNumber|isBoolean|isFunction|isArray|isObject|ifLet|whenLet|or|and|when\\-let|inc|dec|print|set|contains|if\\-let|hasElements|isEmptyList|empty\\-array|method\\-call|empty\\-map|empty\\-set|doto|if\\-not|when\\-not|xor|min|max|console|Array|Object|String|Number|Boolean|Map|Set|Promise|JSON|Math|Date|RegExp|Error|TypeError|RangeError|setTimeout|clearTimeout|fetch|add|apply|assoc|assocIn|comp|concat|conj|cons|count|cycle|dissoc|distinct|div|doall|drop|empty|eq|every|filter|first|flatten|get|getIn|groupBy|gt|gte|into|isEmpty|isEven|isNegative|isOdd|isPositive|isSome|isZero|iterate|keep|keepIndexed|keys|keyword|last|lazySeq|lt|lte|map|mapIndexed|mapcat|merge|mul|neq|next|notAny|notEvery|nth|partial|range|realized|reduce|repeatedly|rest|reverse|second|seq|some|sub|symbol|take|update|updateIn|vec)\\b"
        }
      ]
    },
    "operator": {
      "patterns": [
        {
          "name": "keyword.operator.arithmetic.hql",
          "match": "(\\*\\*|\\+|\\*|-|/|%)"
        },
        {
          "name": "keyword.operator.comparison.hql",
          "match": "(===|!==|==|!=|<=|>=|<|>)"
        },
        {
          "name": "keyword.operator.logical.hql",
          "match": "(\\|\\||\\?\\?|&&|!)"
        },
        {
          "name": "keyword.operator.bitwise.hql",
          "match": "(>>>|\\||\\^|<<|>>|&|~)"
        },
        {
          "name": "keyword.operator.arrow.hql",
          "match": "=>"
        },
        {
          "name": "keyword.operator.threading.hql",
          "match": "(some->>|cond->>|some->|cond->|->>|->)"
        }
      ]
    },
    "special": {
      "patterns": [
        {
          "name": "variable.language.special.hql",
          "match": "\\$[0-9]+"
        },
        {
          "name": "punctuation.definition.quote.hql",
          "match": "[`'~@]"
        },
        {
          "name": "variable.other.member.hql",
          "match": "\\.[a-zA-Z_][a-zA-Z0-9_]*"
        }
      ]
    },
    "bracket": {
      "patterns": [
        {
          "name": "punctuation.paren.hql",
          "match": "[()]"
        },
        {
          "name": "punctuation.bracket.hql",
          "match": "[\\[\\]]"
        },
        {
          "name": "punctuation.brace.hql",
          "match": "[{}]"
        }
      ]
    }
  }
}
