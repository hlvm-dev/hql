[0m[38;5;245mrunning 9 tests from ./test/bugfix-double-macro-expansion.test.ts[0m
Bugfix #1: Built-in macros compile correctly after fix ... [0m[32mok[0m [0m[38;5;245m(25ms)[0m
Bugfix #1: Multiple macro uses work correctly ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
Bugfix #1: Nested macro expansion works ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Bugfix #1: Transpilation produces valid code ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Bugfix #1: Transpilation performance is acceptable ...
[0m[38;5;245m------- output -------[0m
âœ“ Transpilation of 10 macros completed in 1.50ms
[0m[38;5;245m----- output end -----[0m
Bugfix #1: Transpilation performance is acceptable ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Bugfix #1: Macro expansion with complex expressions ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Bugfix #1: unless macro works correctly ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Bugfix #1: when with multiple expressions ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Bugfix #1: Verify expandMacros not called in transformer ...
[0m[38;5;245m------- output -------[0m
âœ“ Verified: expandMacros is not used in transformer.ts
[0m[38;5;245m----- output end -----[0m
Bugfix #1: Verify expandMacros not called in transformer ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 7 tests from ./test/bugfix-race-condition-globalenv.test.ts[0m
Bugfix #2: Concurrent transpilation works correctly ... [0m[32mok[0m [0m[38;5;245m(22ms)[0m
Bugfix #2: Stress test with many parallel compilations ...
[0m[38;5;245m------- post-test output -------[0m
âœ“ 50 concurrent transpilations completed in 13.11ms
[0m[38;5;245m----- post-test output end -----[0m
Bugfix #2: Stress test with many parallel compilations ... [0m[32mok[0m [0m[38;5;245m(13ms)[0m
Bugfix #2: Sequential transpilations use same environment ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
Bugfix #2: Environment initialization is idempotent ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
Bugfix #2: Rapid fire concurrent requests ...
[0m[38;5;245m------- post-test output -------[0m
âœ“ 60 transpilations across 3 batches completed successfully
[0m[38;5;245m----- post-test output end -----[0m
Bugfix #2: Rapid fire concurrent requests ... [0m[32mok[0m [0m[38;5;245m(21ms)[0m
Bugfix #2: Macros work correctly under concurrent load ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Bugfix #2: Complex code under concurrent load ... [0m[32mok[0m [0m[38;5;245m(5ms)[0m
[0m[38;5;245mrunning 10 tests from ./test/bugfix-validation-order.test.ts[0m
Bugfix #3: Duplicate variable declarations detected ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL4001]:[0m[0m Transformation failed: [HQL3008] Identifier 'x' has already been declared at :3: (first at :2:)

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql:1:1[0m
[36mSuggestion: Issue occurred during Transformation failed phase.[0m
[0m[38;5;245m----- post-test output end -----[0m
Bugfix #3: Duplicate variable declarations detected ... [0m[32mok[0m [0m[38;5;245m(15ms)[0m
Bugfix #3: Valid code with similar names passes validation ... [0m[32mok[0m [0m[38;5;245m(12ms)[0m
Bugfix #3: Nested scope variables are allowed ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Bugfix #3: Validation happens before optimization ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL4001]:[0m[0m Transformation failed: [HQL3008] Identifier 'x' has already been declared at :2: (first at :2:)

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql:1:1[0m
[36mSuggestion: Issue occurred during Transformation failed phase.[0m
[0m[38;5;245m----- post-test output end -----[0m
Bugfix #3: Validation happens before optimization ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Bugfix #3: Error messages are clear and accurate ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL4001]:[0m[0m Transformation failed: [HQL3008] Identifier 'result' has already been declared at :3: (first at :2:)

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql:1:1[0m
[36mSuggestion: Issue occurred during Transformation failed phase.[0m
[0m[38;5;245m----- post-test output end -----[0m
Bugfix #3: Error messages are clear and accurate ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Bugfix #3: Complex code validates correctly ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Bugfix #3: Multiple functions with local variables ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Bugfix #3: Validation with loops ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Bugfix #3: Class method validation ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
Bugfix #3: Validation with macros ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
[0m[38;5;245mrunning 1 test from ./test/decode-mappings.test.ts[0m
Decode actual source map mappings ...
[0m[38;5;245m------- post-test output -------[0m
=== HQL CODE (3 lines) ===
HQL Line 1: (let data [1 2 3])
HQL Line 2: (let result (map (fn (x) (* x 2)) data))
HQL Line 3: (let bad (/ 10 undefined_var))

=== WHAT DOES JS LINE 11 MAP TO? ===
JS Line 11, Col 0 â†’ HQL Line null, Col null
JS Line 11, Col 50 â†’ HQL Line null, Col null
JS Line 11, Col 100 â†’ HQL Line null, Col null
JS Line 11, Col 108 â†’ HQL Line null, Col null
JS Line 11, Col 150 â†’ HQL Line null, Col null

=== CHECK ALL JS LINES ===
JS Line  1 â†’ [NO MAPPING]
JS Line  2 â†’ [NO MAPPING]
JS Line  3 â†’ [NO MAPPING]
JS Line  4 â†’ [NO MAPPING]
JS Line  5 â†’ [NO MAPPING]
JS Line  6 â†’ [NO MAPPING]
JS Line  7 â†’ [NO MAPPING]
JS Line  8 â†’ [NO MAPPING]
JS Line  9 â†’ [NO MAPPING]
JS Line 10 â†’ [NO MAPPING]
JS Line 11 â†’ [NO MAPPING]
JS Line 12 â†’ [NO MAPPING]
[0m[38;5;245m----- post-test output end -----[0m
Decode actual source map mappings ... [0m[32mok[0m [0m[38;5;245m(25ms)[0m
[0m[38;5;245m------- post-test output -------[0m

Array Destructuring E2E Tests Complete!
All tests verify the complete HQL destructuring pipeline
âœ… Simple patterns
âœ… Skip patterns
âœ… Rest patterns
âœ… Nested patterns
âœ… var (mutable) destructuring
[0m[38;5;245m----- post-test output end -----[0m
[0m[38;5;245mrunning 29 tests from ./test/destructuring-array-e2e.test.ts[0m
Array Destructuring E2E: Simple [x y] ... [0m[32mok[0m [0m[38;5;245m(21ms)[0m
Array Destructuring E2E: Three elements [x y z] ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Array Destructuring E2E: Empty pattern [] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Single element [x] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: More values than bindings ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Fewer values than bindings (undefined) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Skip first [_ y] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Skip middle [x _ z] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Skip last [x _] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Multiple skips [_ _ x] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: All skips [_ _] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Rest pattern [x & rest] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Rest at beginning [& all] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Rest with two preceding [x y & rest] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Rest with empty remainder [x y & rest] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Rest with underscore [x & _] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Nested simple [[x y]] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Two nested [[a b] [c d]] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Mixed flat and nested [x [y z]] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Deep nesting [x [y [z]]] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Nested with skip [[_ x] [y _]] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Nested with rest [[x & xs] [y & ys]] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: var [x y] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: var with rest [x & rest] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Function call result ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Array Destructuring E2E: Array literal with expressions ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Destructure result of if ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Strings in array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring E2E: Mixed types ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245m------- post-test output -------[0m

Array Pattern Parser Tests Complete!
All tests validate parseArrayPattern() functionality
âœ… Simple patterns (identifiers, skip, rest)
âœ… Nested patterns (arrays within arrays)
âœ… Error cases (invalid rest, literals, etc.)
[0m[38;5;245m----- post-test output end -----[0m
[0m[38;5;245mrunning 26 tests from ./test/destructuring-array-pattern-parser.test.ts[0m
Array Pattern Parser: Empty array pattern [] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: Single identifier [x] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: Multiple identifiers [x y z] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: Skip pattern [_] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: Skip in middle [x _ z] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: Multiple skips [_ _ x] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: Rest pattern [x & rest] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: Rest at beginning [& all] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: Rest with multiple preceding [x y & rest] ... [0m[32mok[0m [0m[38;5;245m(8ms)[0m
Array Pattern Parser: Rest with underscore [x & _] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: Mixed skip and identifiers [_ x _ y] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: Nested simple [[x y]] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: Multiple nested [[a b] [c d]] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: Mixed flat and nested [x [y z]] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: Deep nesting [x [y [z]]] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: Nested with skip [[_ x] [y _]] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: ERROR - Rest not at end [& rest x] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: ERROR - Rest in middle [x & rest y] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: ERROR - Rest without identifier [x &] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: ERROR - Literal in pattern [1 2 3] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: ERROR - Mixed literal and symbol [x 2 y] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Pattern Parser: ERROR - Function call in pattern [x (+ 1 2)] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Identifier Pattern Parser: Simple identifier ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Identifier Pattern Parser: Underscore identifier ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Generic parsePattern: Identifier ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Generic parsePattern: Array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245m------- post-test output -------[0m

Destructuring Defaults E2E Tests Complete!
All tests verify default values in array destructuring
âœ… Array defaults
âœ… Nested pattern defaults
âœ… Expression defaults
âœ… var (mutable) with defaults
Note: Object property defaults syntax not yet implemented
[0m[38;5;245m----- post-test output end -----[0m
[0m[38;5;245mrunning 11 tests from ./test/destructuring-defaults-e2e.test.ts[0m
Array Destructuring: Single default [x (= 10)] ... [0m[32mok[0m [0m[38;5;245m(22ms)[0m
Array Destructuring: Default with value [x (= 10)] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring: Multiple defaults ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Array Destructuring: Partial defaults ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Array Destructuring: Mix with and without defaults ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring: Default with expression ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring: Nested pattern with default ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring: Nested pattern with default provided ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Array Destructuring: Deep nested with defaults ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Array Destructuring: Multiple nested levels ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Array Destructuring: var with defaults ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 15 tests from ./test/destructuring-fn-params-e2e.test.ts[0m
Fn Param Destructuring: Simple [a b] ... [0m[32mok[0m [0m[38;5;245m(23ms)[0m
Fn Param Destructuring: Three elements [x y z] ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Fn Param Destructuring: Single element [x] ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Fn Param Destructuring: Skip first [_ y] ... [0m[32mok[0m [0m[38;5;245m(5ms)[0m
Fn Param Destructuring: Skip middle [x _ z] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Fn Param Destructuring: Rest pattern [x & rest] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Fn Param Destructuring: Rest at beginning [& all] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Fn Param Destructuring: Nested [[a b]] ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Fn Param Destructuring: Deep nesting [[a [b c]]] ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Fn Param Destructuring: Mixed (x [y z]) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Fn Param Destructuring: Mixed ([a b] c) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Fn Param Destructuring: Three params (x [y z] w) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Fn Param Destructuring: Two arrays ([a b] [c d]) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Fn Param Destructuring: Anonymous fn ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Fn Param Destructuring: Inline anonymous ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
[0m[38;5;245m------- post-test output -------[0m

Object Destructuring E2E Tests Complete!
All tests verify object destructuring pipeline
âœ… Simple patterns
âœ… Property renaming
âœ… Nested patterns
âœ… Mixed with arrays
âœ… var (mutable) destructuring
[0m[38;5;245m----- post-test output end -----[0m
[0m[38;5;245mrunning 16 tests from ./test/destructuring-object-e2e.test.ts[0m
Object Destructuring: Simple {x y} ... [0m[32mok[0m [0m[38;5;245m(25ms)[0m
Object Destructuring: Three properties {a b c} ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Object Destructuring: Single property {x} ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Object Destructuring: Order independence ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Object Destructuring: Extra properties in object ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Object Destructuring: Missing property (undefined) ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Object Destructuring: Rename {x: newX} ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Object Destructuring: Multiple renames ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Object Destructuring: Mixed rename and direct ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Object Destructuring: Nested {a {b c}} ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Object Destructuring: Deep nesting ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Object Destructuring: Object containing array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Object Destructuring: Array containing object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Object Destructuring: var {x y} ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Object Destructuring: Function call result ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Object Destructuring: Object with expressions ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
[0m[38;5;245m------- post-test output -------[0m

Pattern Recognition Tests Complete!
All tests validate the couldBePattern() function
This ensures we can distinguish patterns from array literals
[0m[38;5;245m----- post-test output end -----[0m
[0m[38;5;245mrunning 19 tests from ./test/destructuring-pattern-recognition.test.ts[0m
Pattern Recognition: Simple symbols are patterns ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: Literals are NOT patterns ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: Empty list is valid pattern ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: List of symbols is pattern ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: List with underscore (skip) is pattern ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: List with rest is pattern ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: List with default value is pattern ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: Nested list of symbols is pattern ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: List with literals is NOT pattern (array literal) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: Mixed symbols and literals is NOT pattern ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: List with function call is NOT pattern ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: Rest must be second-to-last (invalid) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: Rest must be followed by identifier ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: Complex valid pattern with defaults and rest ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: Complex invalid pattern (literal after symbol) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: Nested pattern with defaults ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: Pattern with only underscore ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: Pattern with multiple underscores ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Pattern Recognition: Rest with underscore as identifier ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 6 tests from ./test/dot-notation-audit.test.ts[0m
Dot Notation Audit - Group 1: Simple Property Access ... [0m[32mok[0m [0m[38;5;245m(22ms)[0m
Dot Notation Audit - Group 2: Single Method Call ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
Dot Notation Audit - Group 3: Method Chaining - Spaced ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Dot Notation Audit - Group 4: Method Chaining - Spaceless ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Dot Notation Audit - Group 5: Edge Cases ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Dot Notation Audit - Summary Table ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
[0m[38;5;245mrunning 5 tests from ./test/edge-case-cross-file.test.ts[0m
Edge Case: Cross-file mixed macro + function + constant import ... [0m[32mok[0m [0m[38;5;245m(31ms)[0m
Edge Case: Re-export macros through intermediate file ... [0m[32mok[0m [0m[38;5;245m(6ms)[0m
Edge Case: Circular imports with macros should throw error ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Edge Case: Transitive macro dependencies ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Edge Case: Macro with rest parameters ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 1 test from ./test/error-first-line.test.ts[0m
Error on line 1 of multi-line file ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL5001]:[0m[0m undefined_var is not defined

 [35m1[0m â”‚ (let bad undefined_var)
              [31m[1m^[0m[0m
 [90m2[0m â”‚ [90m(let x 10)[0m
 [90m3[0m â”‚ [90m(let y 20)[0m

[35m[1mWhere:[0m[0m [37m/var/folders/sx/68vz7m857jngsy2_8w_djflw0000gn/T/hql-first-1983ec96bca8214c/test.hql:1:11[0m
[36mSuggestion: Check that 'undefined_var' is defined and spelled correctly. It might be a typo or the function might not be defined in this scope.[0m
Error reported on line: 1
Expected: 1
[0m[38;5;245m----- post-test output end -----[0m
Error on line 1 of multi-line file ... [0m[32mok[0m [0m[38;5;245m(28ms)[0m
[0m[38;5;245mrunning 3 tests from ./test/error-line-offset-helper.test.ts[0m
Line offset: Error location with array access helper injection ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL5001]:[0m[0m undefined_var is not defined

 [90m1[0m â”‚ [90m(let data [1 2 3])[0m
 [90m2[0m â”‚ [90m(let result (map (fn (x) (* x 2)) data))[0m
 [35m3[0m â”‚ (let bad (/ 10 undefined_var))
                    [31m[1m^[0m[0m

[35m[1mWhere:[0m[0m [37m/var/folders/sx/68vz7m857jngsy2_8w_djflw0000gn/T/hql-offset-e4c613dc05e122ce/test.hql:3:17[0m
[36mSuggestion: Check that 'undefined_var' is defined and spelled correctly. It might be a typo or the function might not be defined in this scope.[0m
Error location: SourceLocationInfo {
  filePath: "/var/folders/sx/68vz7m857jngsy2_8w_djflw0000gn/T/hql-offset-e4c613dc05e122ce/test.hql",
  line: 3,
  column: 17,
  endLine: undefined,
  endColumn: undefined,
  source: undefined,
  originalError: ReferenceError: undefined_var is not defined
    at undefined_var (/var/folders/sx/68vz7m857jngsy2_8w_djflw0000gn/T/hql-offset-e4c613dc05e122ce/test.hql:3:17)

}
Expected line: 3, Got line: 3
[0m[38;5;245m----- post-test output end -----[0m
Line offset: Error location with array access helper injection ... [0m[32mok[0m [0m[38;5;245m(33ms)[0m
Line offset: Error location with get/range/map helpers ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL5001]:[0m[0m undefined_thing is not defined

 [90m2[0m â”‚ [90m(let doubled (map (fn (n) (* n 2)) nums))[0m
 [90m3[0m â”‚ [90m(let first (get nums 0))[0m
 [35m4[0m â”‚ (let bad_var undefined_thing)
                  [31m[1m^[0m[0m

[35m[1mWhere:[0m[0m [37m/var/folders/sx/68vz7m857jngsy2_8w_djflw0000gn/T/hql-offset-3b48e9bc0948b0e0/test2.hql:4:15[0m
[36mSuggestion: Check that 'undefined_thing' is defined and spelled correctly. It might be a typo or the function might not be defined in this scope.[0m
Error location: SourceLocationInfo {
  filePath: "/var/folders/sx/68vz7m857jngsy2_8w_djflw0000gn/T/hql-offset-3b48e9bc0948b0e0/test2.hql",
  line: 4,
  column: 15,
  endLine: undefined,
  endColumn: undefined,
  source: undefined,
  originalError: ReferenceError: undefined_thing is not defined
    at undefined_thing (/var/folders/sx/68vz7m857jngsy2_8w_djflw0000gn/T/hql-offset-3b48e9bc0948b0e0/test2.hql:4:15)

}
Expected line: 4, Got line: 4
[0m[38;5;245m----- post-test output end -----[0m
Line offset: Error location with get/range/map helpers ... [0m[32mok[0m [0m[38;5;245m(5ms)[0m
Line offset: Verify no helpers = no offset issues ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL5001]:[0m[0m undefined_var is not defined

 [90m1[0m â”‚ [90m(let x 10)[0m
 [90m2[0m â”‚ [90m(let y 20)[0m
 [35m3[0m â”‚ (+ x undefined_var)
          [31m[1m^[0m[0m

[35m[1mWhere:[0m[0m [37m/var/folders/sx/68vz7m857jngsy2_8w_djflw0000gn/T/hql-no-helper-cf542228563eadb6/simple.hql:3:7[0m
[36mSuggestion: Check that 'undefined_var' is defined and spelled correctly. It might be a typo or the function might not be defined in this scope.[0m
Simple case - Error location: SourceLocationInfo {
  filePath: "/var/folders/sx/68vz7m857jngsy2_8w_djflw0000gn/T/hql-no-helper-cf542228563eadb6/simple.hql",
  line: 3,
  column: 7,
  endLine: undefined,
  endColumn: undefined,
  source: undefined,
  originalError: ReferenceError: undefined_var is not defined
    at undefined_var (/var/folders/sx/68vz7m857jngsy2_8w_djflw0000gn/T/hql-no-helper-cf542228563eadb6/simple.hql:3:7)

}
[0m[38;5;245m----- post-test output end -----[0m
Line offset: Verify no helpers = no offset issues ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
[0m[38;5;245mrunning 3 tests from ./test/error-location-tdz.test.ts[0m
TDZ error reports correct line number with source maps ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL4001]:[0m[0m Transformation failed: [HQL3008] Identifier 'x' has already been declared at :2: (first at :1:)

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql:1:1[0m
[36mSuggestion: Issue occurred during Transformation failed phase.[0m
Error message: [HQL4001] Transformation failed: [HQL3008] Identifier 'x' has already been declared at :2: (first at :1:) at /Users/seoksoonjang/Desktop/hql/test.hql:2:6
[0m[38;5;245m----- post-test output end -----[0m
TDZ error reports correct line number with source maps ... [0m[32mok[0m [0m[38;5;245m(18ms)[0m
Reference error reports correct location with source maps ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL5001]:[0m[0m undefined_variable is not defined


[90mCould not read source file: /Users/seoksoonjang/Desktop/hql/test.hql[0m

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql/test.hql:4:7[0m
[36mSuggestion: Check that 'undefined_variable' is defined and spelled correctly. It might be a typo or the function might not be defined in this scope.[0m
Error message: [HQL5001] undefined_variable is not defined at /Users/seoksoonjang/Desktop/hql/test.hql:4:7
[0m[38;5;245m----- post-test output end -----[0m
Reference error reports correct location with source maps ... [0m[32mok[0m [0m[38;5;245m(12ms)[0m
Function call error reports correct location with source maps ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL4001]:[0m[0m Transformation failed: [HQL3003] Missing required argument for parameter 'b' in call to function 'add'

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql:1:1[0m
[36mSuggestion: Issue occurred during Transformation failed phase.[0m
Error message: [HQL4001] Transformation failed: [HQL3003] Missing required argument for parameter 'b' in call to function 'add' at /Users/seoksoonjang/Desktop/hql/test.hql:3:6
[0m[38;5;245m----- post-test output end -----[0m
Function call error reports correct location with source maps ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
[0m[38;5;245mrunning 1 test from ./test/error-middle-line.test.ts[0m
CRITICAL: Error on line 2 of 4-line file ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL5001]:[0m[0m undefined_var is not defined

 [90m1[0m â”‚ [90m(let x 10)[0m
 [35m2[0m â”‚ (let bad undefined_var)
              [31m[1m^[0m[0m
 [90m3[0m â”‚ [90m(let y 20)[0m
 [90m4[0m â”‚ [90m(let z 30)[0m

[35m[1mWhere:[0m[0m [37m/var/folders/sx/68vz7m857jngsy2_8w_djflw0000gn/T/hql-middle-71ecac8f2f570276/test.hql:2:11[0m
[36mSuggestion: Check that 'undefined_var' is defined and spelled correctly. It might be a typo or the function might not be defined in this scope.[0m
Error reported on line: 2
Expected: 2
[0m[38;5;245m----- post-test output end -----[0m
CRITICAL: Error on line 2 of 4-line file ... [0m[32mok[0m [0m[38;5;245m(33ms)[0m
[0m[38;5;245mrunning 19 tests from ./test/error-reporting-verification.test.ts[0m
Error Reporting: Parse error - unclosed parenthesis ... [0m[32mok[0m [0m[38;5;245m(13ms)[0m
Error Reporting: Parse error - unbalanced delimiters ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error Reporting: Invalid syntax - malformed let ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error Reporting: Invalid function definition ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error Reporting: Runtime - undefined variable reference ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL5001]:[0m[0m undefinedVariable is not defined

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql/<anonymous>.hql:1:1[0m
[36mSuggestion: Check that 'undefinedVariable' is defined and spelled correctly. It might be a typo or the function might not be defined in this scope.[0m
[0m[38;5;245m----- post-test output end -----[0m
Error Reporting: Runtime - undefined variable reference ... [0m[32mok[0m [0m[38;5;245m(14ms)[0m
Error Reporting: Runtime - function not defined ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL5001]:[0m[0m nonExistentFunction is not defined

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql/<anonymous>.hql:1:1[0m
[36mSuggestion: Check that 'nonExistentFunction' is defined and spelled correctly. It might be a typo or the function might not be defined in this scope.[0m
[0m[38;5;245m----- post-test output end -----[0m
Error Reporting: Runtime - function not defined ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error Reporting: Runtime - wrong number of arguments ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL4001]:[0m[0m Transformation failed: [HQL3003] Missing required argument for parameter 'y' in call to function 'add'

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql:1:1[0m
[36mSuggestion: Issue occurred during Transformation failed phase.[0m
[0m[38;5;245m----- post-test output end -----[0m
Error Reporting: Runtime - wrong number of arguments ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error Reporting: Runtime - property access on undefined ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL5001]:[0m[0m someProperty is not defined

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql/<anonymous>.hql:1:1[0m
[36mSuggestion: Check that 'someProperty' is defined and spelled correctly. It might be a typo or the function might not be defined in this scope.[0m
[0m[38;5;245m----- post-test output end -----[0m
Error Reporting: Runtime - property access on undefined ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Error Reporting: Runtime - accurate location for shadowed binding ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL5002]:[0m[0m Cannot access 'foo' before initialization

 [90m3[0m â”‚ [90m[0m
 [90m4[0m â”‚ [90m(fn broken [][0m
 [35m5[0m â”‚   (console.log "outer foo" foo)
                                [31m[1m^[0m[0m
 [90m6[0m â”‚ [90m  (let foo 42)[0m
 [90m7[0m â”‚ [90m  (console.log "inner foo" foo)[0m

[35m[1mWhere:[0m[0m [37m/var/folders/sx/68vz7m857jngsy2_8w_djflw0000gn/T/hql-shadow-44b648ea60015f37/shadow.hql:5:29[0m
[36mSuggestion: Check runtime type mismatches or invalid operations.[0m
[0m[38;5;245m----- post-test output end -----[0m
Error Reporting: Runtime - accurate location for shadowed binding ... [0m[32mok[0m [0m[38;5;245m(6ms)[0m
Error Reporting: Runtime - type error in operation ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error Reporting: Runtime - division by zero ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error Reporting: Runtime - array access out of bounds ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error Reporting: Error contains source location info ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL5001]:[0m[0m z is not defined

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql/<anonymous>.hql:1:1[0m
[36mSuggestion: Check that 'z' is defined and spelled correctly. It might be a typo or the function might not be defined in this scope.[0m

=== Error Message Sample ===
[HQL5001] z is not defined
============================

[0m[38;5;245m----- post-test output end -----[0m
Error Reporting: Error contains source location info ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error Reporting: Parse error shows context lines ...
[0m[38;5;245m------- post-test output -------[0m

=== Parse Error with Context ===
[HQL1001] Unclosed list starting at line 4. Check for a missing closing parenthesis ')' at line 4:18
================================

[0m[38;5;245m----- post-test output end -----[0m
Error Reporting: Parse error shows context lines ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error Reporting: Stack trace in nested function calls ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error Reporting: Stack trace with actual error in nested calls ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL5001]:[0m[0m undefinedProp is not defined

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql/<anonymous>.hql:1:1[0m
[36mSuggestion: Check that 'undefinedProp' is defined and spelled correctly. It might be a typo or the function might not be defined in this scope.[0m

=== Nested Call Stack Trace ===
[HQL5001] undefinedProp is not defined

Stack:
ReferenceError: undefinedProp is not defined
    at helper
    at middle
    at outer
    at eval
    at eval
    at run (/Users/seoksoonjang/Desktop/hql/mod.ts:682:18)
    at run (/Users/seoksoonjang/Desktop/hql/test/error-reporting-verification.test.ts:18:10)
    at <anonymous> (/Users/seoksoonjang/Desktop/hql/test/error-reporting-verification.test.ts:272:5)

(2 internal frames hidden. Set HQL_VERBOSE=1 to show all)

================================

[0m[38;5;245m----- post-test output end -----[0m
Error Reporting: Stack trace with actual error in nested calls ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error Reporting: Transpiled code contains metadata comments ...
[0m[38;5;245m------- post-test output -------[0m

=== Transpiled Code (checking for metadata) ===

(function() {
const __hql_deepFreeze = function __hql_deepFreeze(obj) {
  // Primitives and null don't need freezing
  if (obj === null || typeof obj !== "object") {
    return obj;
  }
  // Skip freezing for LazySeq objects (they need to mutate _realized, _iterating)
  if (obj.constructor?.name === "LazySeq") {
    return obj;
  }
  // Already frozen objects can be returned as-is
  if (Object.isFrozen(obj)) {
    return obj;
  }
  // Freeze the object itself
  Object.freeze(obj);
  // Recursively freeze all property values
  Object.getOwnPropertyNames(obj).forEach((prop)=>{
    const value = obj[prop];
    if (value !== null && (typeof value === "object" || typeof value === "function")) {
      __hql_deepFreeze(value);
    }
  });
  // Also freeze symbol properties
  Object.getOwnPropertySymbols(obj).forEach((sym)=>{
    const value = obj[sym];
    if (value !== null && (typeof value === "object" || typeof value === "function")) {
      __hql_deepFreeze(value);
    }
  });
  return obj;
};


  return (function() {
    "use strict";
    const x = __hql_deepFreeze(10);
    const y = __hql_deepFreeze(20);
    return x + y;
  })();
})()
================================================

Metadata comments present: false
[0m[38;5;245m----- post-test output end -----[0m
Error Reporting: Transpiled code contains metadata comments ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error Reporting: Multiple errors in sequence ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL5001]:[0m[0m unknownFunc1 is not defined

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql/<anonymous>.hql:1:1[0m
[36mSuggestion: Check that 'unknownFunc1' is defined and spelled correctly. It might be a typo or the function might not be defined in this scope.[0m
[31m[1merror[HQL5001]:[0m[0m unknownFunc2 is not defined

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql/<anonymous>.hql:1:1[0m
[36mSuggestion: Check that 'unknownFunc2' is defined and spelled correctly. It might be a typo or the function might not be defined in this scope.[0m
[0m[38;5;245m----- post-test output end -----[0m
Error Reporting: Multiple errors in sequence ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
Error Reporting: Manual inspection helper ...
[0m[38;5;245m------- post-test output -------[0m

============================================================
ERROR REPORTING VERIFICATION SUMMARY
============================================================

This test suite verifies HQL's error handling:
âœ“ Compile-time errors (parsing, syntax)
âœ“ Runtime errors (undefined vars, function calls)
âœ“ Error message formatting and context
âœ“ Stack trace quality
âœ“ Metadata preservation in transpiled code

Check the console output above for actual error messages.
============================================================

[0m[38;5;245m----- post-test output end -----[0m
Error Reporting: Manual inspection helper ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 12 tests from ./test/helper-embedding.test.ts[0m
Helper Embedding: __hql_deepFreeze is embedded when let is used ... [0m[32mok[0m [0m[38;5;245m(21ms)[0m
Helper Embedding: __hql_deepFreeze is embedded with exports ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Helper Embedding: __hql_deepFreeze handles multiple let bindings ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Helper Embedding: __hql_deepFreeze NOT embedded when only var is used ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Helper Embedding: __hql_range is embedded when range is used ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Helper Embedding: __hql_get is embedded when property access is used ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Helper Embedding: Multiple helpers embedded when needed ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Helper Embedding: Verify single source of truth via function.toString() ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Helper Embedding: __hql_hash_map is embedded when map literal is used ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Helper Embedding: __hql_for_each is embedded when for loop is used ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Helper Embedding: __hql_toSequence is embedded with __hql_for_each ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Helper Embedding: __hql_getNumeric alias is set when __hql_get is embedded ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 10 tests from ./test/macro-bugs.test.ts[0m
Macro Bug Fix: Cache invalidation on redefinition (runtime API) ... [0m[32mok[0m [0m[38;5;245m(15ms)[0m
Macro Bug Fix: Cache invalidation within same compilation ... [0m[32mok[0m [0m[38;5;245m(12ms)[0m
Macro Bug Fix: Nested quasiquote with single unquote ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Macro Bug Fix: Nested quasiquote with double unquote ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Macro Bug Fix: Triple nested quasiquote ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Macro behavior: Variable capture (manual hygiene) ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Macro behavior: Manual hygiene with unique names works ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
Macro behavior: Basic macros work correctly ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Macro behavior: Free variables capture from outer scope ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Macro behavior: Explicitly unquoted variables capture correctly ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 12 tests from ./test/macroexpand.test.ts[0m
macroexpand expands nested macro definition ... [0m[32mok[0m [0m[38;5;245m(12ms)[0m
macroexpand1 expands outer form once ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cond macro expands to nested ifs ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cond macro handles else clause ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
do macro expands sequentially ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
do macro single step expansion ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
empty-array macro produces vector form ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
empty-map macro produces hash-map form ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
empty-set macro produces hash-set form ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
macroexpand hash-map macro assigns literal keys ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
macroexpand hash-map macro keeps expression keys ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
macroexpand throw macro expands to helper ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 8 tests from ./test/object-semantics.test.ts[0m
Object semantics: Objects have null prototype ... [0m[32mok[0m [0m[38;5;245m(24ms)[0m
Object semantics: No inherited properties ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Object semantics: for...in only shows own properties ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Object semantics: Nested objects also have null prototype ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Object semantics: Empty object has null prototype ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Object semantics: Objects in arrays have null prototype ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Object semantics: Object can have property named 'toString' ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Object semantics: Object can have property named 'constructor' ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 14 tests from ./test/optimize-for-loops-expressions.test.ts[0m
For loop in expression: Variable initializer ... [0m[32mok[0m [0m[38;5;245m(28ms)[0m
For loop in expression: Array element ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
For loop in expression: Object value ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
For loop in expression: Function argument ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
For loop in expression: Return value ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
For loop in expression: Nested in binary expression ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
For loop in expression: Conditional test ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
For loop in expression: Conditional consequent ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
For loop in expression: Conditional alternate ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
For loop in expression: Assignment right side ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
For loop in expression: With side effects in variable init ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
For loop in expression: Multiple in array ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
For loop in expression: Nested for loops ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
For loop in expression: Performance check - IIFE overhead acceptable ...
[0m[38;5;245m------- post-test output -------[0m
IIFE-wrapped for loop (1000 iterations): 1.99ms
[0m[38;5;245m----- post-test output end -----[0m
For loop in expression: Performance check - IIFE overhead acceptable ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
[0m[38;5;245mrunning 8 tests from ./test/optimize-for-loops.test.ts[0m
For loop optimization: Basic range (0 to n) ... [0m[32mok[0m [0m[38;5;245m(25ms)[0m
For loop optimization: Range with start and end ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
For loop optimization: Range with step ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
For loop optimization: Multiple statements in body ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
For loop optimization: No return statement in loop body ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
For loop optimization: Negative step (reverse iteration) ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
For loop optimization: Empty loop body ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
For loop optimization: Accumulator pattern ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
[0m[38;5;245mrunning 19 tests from ./test/organized/syntax/binding/binding.test.ts[0m
Binding: let creates immutable binding ... [0m[32mok[0m [0m[38;5;245m(24ms)[0m
Binding: var creates mutable binding ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Binding: let with multiple values ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Binding: var with multiple values ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Binding: set! updates existing var ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Binding: let with expression ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Binding: var with expression ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Binding: nested let ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Binding: set! with property access ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Binding: let with object ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Binding: var with array ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Binding: multiple set! operations ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Binding: let with array is frozen (immutable) ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Binding: let with object is frozen (immutable) ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Binding: var with array is mutable ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Binding: var with object is mutable ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Binding: let freezes nested objects (deep freeze) ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Binding: top-level let with helper and brace literal preserves helper result ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Binding: top-level let with helper and parenthesis literal preserves helper result ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 31 tests from ./test/organized/syntax/class/class.test.ts[0m
Class: define empty class ... [0m[32mok[0m [0m[38;5;245m(21ms)[0m
Class: define class with constructor ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Class: create instance with new ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Class: constructor with single parameter ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Class: constructor with multiple parameters ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Class: constructor initializes multiple properties ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Class: method with no parameters ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Class: method with parameters ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Class: method returns value ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Class: method accesses instance properties ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Class: method calls another method ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Class: mutable field with var ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Class: field with default value ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Class: immutable field with let ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Class: immutable field with default value ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Class: multiple immutable and mutable fields ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Class: access property via dot notation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Class: modify property after creation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Class: add new property after creation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Class: multiple instances are independent ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Class: second instance independent from first ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Class: method with default parameter values ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Class: method with one default parameter used ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Class: method with no defaults used ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Class: method modifies instance state and returns self ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Class: complex method using multiple instance properties ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Class: constructor with computation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Class: method accessing computed property ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Class: top-level class with helper-producing call returns final value ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
Class: using this/self in nested expressions ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Class: method returns object literal ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
[0m[38;5;245mrunning 14 tests from ./test/organized/syntax/conditional/conditional.test.ts[0m
Conditional: if true branch ... [0m[32mok[0m [0m[38;5;245m(22ms)[0m
Conditional: if false branch ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Conditional: if with expression condition ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Conditional: if with multiple statements in branches ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Conditional: nested if ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Conditional: if as expression in let ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
Conditional: if as return value ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Conditional: cond with multiple clauses ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Conditional: cond with else clause ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Conditional: cond with expressions ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Conditional: if with comparison operators ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Conditional: if with != operator ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Conditional: if with <= operator ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Conditional: if with >= operator ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 24 tests from ./test/organized/syntax/data-structure/data-structure.test.ts[0m
DataStructure: create empty vector [] ... [0m[32mok[0m [0m[38;5;245m(22ms)[0m
DataStructure: create vector with elements [1, 2, 3] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
DataStructure: vector with mixed types ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
DataStructure: nested vectors [[1, 2], [3, 4]] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
DataStructure: access vector element by index ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
DataStructure: vector length property ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
DataStructure: push to mutable vector ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
DataStructure: create empty map {} ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
DataStructure: create map with key-value pairs ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
DataStructure: access map value by key ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
DataStructure: nested maps ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
DataStructure: add property to mutable map ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
DataStructure: map with numeric keys ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
DataStructure: create empty set #[] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
DataStructure: create set with elements #[1, 2, 3] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
DataStructure: set automatically deduplicates values ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
DataStructure: check set membership with has ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
DataStructure: get from vector by numeric index ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
DataStructure: get from map by string key ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
DataStructure: get with default value (non-existent key) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
DataStructure: chained get operations ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
DataStructure: map over vector ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
DataStructure: filter vector ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
DataStructure: reduce vector to sum ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 13 tests from ./test/organized/syntax/enum/enum.test.ts[0m
Enum: define simple enum ... [0m[32mok[0m [0m[38;5;245m(46ms)[0m
Enum: access simple enum value ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Enum: compare enum values with equality ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Enum: use enum in conditional (cond) ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
Enum: define enum with raw values ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Enum: access raw value ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Enum: compare raw values numerically ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Enum: define enum with associated values ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Enum: create instance with associated values ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Enum: use is() method to check enum case type ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Enum: access associated values from enum instance ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
Enum: dot notation in function parameters ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Enum: dot notation in equality ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 67 tests from ./test/organized/syntax/function/function.test.ts[0m
Function: simple fn definition ... [0m[32mok[0m [0m[38;5;245m(22ms)[0m
Function: fn with single parameter ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Function: fn with no parameters ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Function: fn with multiple parameters ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: anonymous fn expression ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
Function: anonymous fn with parameters ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Function: nested function calls ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: function returning function ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Function: recursive function ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Function: function with multiple expressions ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Function: function as argument ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: arrow function syntax ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Function: function with default behavior ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: immediately invoked function ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: closure capturing variable ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: default params - both defaults used ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: default params - override first param ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: default params - override second param with placeholder ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: default params - override both params ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: default params - single param with default ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: default params - single param override ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: rest params - basic rest only ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: rest params - with regular params ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: rest params - empty rest array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: rest params - accessing rest length ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: JSON map params - basic definition ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Function: JSON map params - all defaults used ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: JSON map params - some values provided ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Function: JSON map params - override specific keys ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Function: JSON map params - works with computed access ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Function: JSON map params - nested map values ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Function: placeholder - multiple placeholders ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: placeholder - all placeholders ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Function: comprehensive - defaults + rest ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Return: implicit return from function ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Return: implicit return from anonymous fn ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Return: explicit return with value ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Return: early return exits immediately ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Return: return in conditional branch ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Return: explicit return in anonymous fn ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Return: anonymous fn with early return ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Return: multiple return paths with cond ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Return: multiple explicit returns in branches ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Return: return only affects inner function ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Return: outer function continues after inner return ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Return: function without return yields last expression ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Return: return inside do block ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Return: return with complex expression ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Return: consistent return types in all branches ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Validation: named arguments are rejected with helpful error ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Validation: named arguments error mentions migration options ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Syntax Flexibility: Lisp-style map params {x: 0 y: 0} ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Syntax Flexibility: Lisp-style map params no commas {x: 0 y: 0 z: 0} ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Syntax Flexibility: JSON-style map params {"x": 0, "y": 0} ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Syntax Flexibility: Mixed-style map params {x: 0, "y": 0} ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Syntax Flexibility: Lisp-style call with JSON-style params ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Syntax Flexibility: JSON-style call with Lisp-style params ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Syntax Flexibility: Positional params with commas [x, y] ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Syntax Flexibility: Positional params mixed commas [x, y z] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Syntax Flexibility: Array literal with commas [1, 2, 3] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Syntax Flexibility: Array literal without commas [1 2 3] ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Syntax Flexibility: Hash-map Lisp style {name: "Alice" age: 25} ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Syntax Flexibility: Hash-map JSON style {"name": "Alice", "age": 25} ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Syntax Flexibility: Hash-map mixed style {name: "Alice", "age": 25} ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Syntax Flexibility: Copy-paste JSON works directly ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Syntax Flexibility: Function returning Lisp-style map ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Syntax Flexibility: Function returning JSON-style map ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 26 tests from ./test/organized/syntax/import-export/import-export.test.ts[0m
Import: import single function from module ... [0m[32mok[0m [0m[38;5;245m(29ms)[0m
Import: import multiple functions from module ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
Import: import constants from module ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
Import: import variable from module ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Import: import with alias ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
Import: namespace import ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
Import: import from utils module ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
Import: chained function calls ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
Import: import class and instantiate ... [0m[32mok[0m [0m[38;5;245m(5ms)[0m
Import: import class and chain methods ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
Import: import and use in expression ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Import: import constants in computation ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Import: import multiple modules ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
Re-export: import function through re-export ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
Re-export: import multiple items through re-export ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
Re-export: import value through re-export ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
TS Import: import function from TypeScript file ... [0m[32mok[0m [0m[38;5;245m(39ms)[0m
TS Import: import multiple functions from TypeScript file ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
TS Import: import constant from TypeScript file ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
JSR Import: import from jsr: specifier ... [0m[32mok[0m [0m[38;5;245m(5ms)[0m
JSR Import: import multiple functions from jsr: ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
HTTPS Import: import from https:// URL ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
HTTPS Import: import multiple functions from https:// ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
NPM Import: import default export from npm package (chalk) ... [0m[32mok[0m [0m[38;5;245m(27ms)[0m
NPM Import: import default export from npm package (ms) ... [0m[32mok[0m [0m[38;5;245m(7ms)[0m
NPM Import: use default import in variable assignment ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
[0m[38;5;245m------- post-test output -------[0m

âœ… All JS Interop tests created (59 tests)

[0m[38;5;245m----- post-test output end -----[0m
[0m[38;5;245mrunning 59 tests from ./test/organized/syntax/js-interop/js-interop.test.ts[0m
JS Interop: js-call basic method invocation ... [0m[32mok[0m [0m[38;5;245m(22ms)[0m
JS Interop: js-call with arguments ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
JS Interop: js-call on array with filter ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
JS Interop: js-get basic property access ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
JS Interop: js-get nested property access ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
JS Interop: js-set property assignment ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
JS Interop: js-new create Date object ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
JS Interop: js-new create Array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
JS Interop: dot notation property access ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
JS Interop: dot notation method chaining ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Async: Basic async function with await ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Async: Multiple awaits in sequence ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Async: Await with actual delay ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Async: Promise.all with multiple promises ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Async: Promise.race ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Async: Chained async operations ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Async: Async function returning computed values ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Async: Async with array operations ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Async: Promise rejection with catch ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Async: Nested async calls ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Regression: js-new Promise with setTimeout (Bug #1) ... [0m[32mok[0m [0m[38;5;245m(53ms)[0m
Regression: js-new Promise with immediate resolve ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error: Basic try/catch with throw ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error: Try/catch with throw ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error: Try/catch/finally all execute ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error: Finally executes even without error ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error: Catch gets error object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error: Catch synchronous JS errors ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error: Catch JS method throwing error ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error: Catch array access out of bounds ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error: HQL function throws, catches internally ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error: HQL catches then returns value ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error: Nested try/catch blocks ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error: Catch in inner, rethrow to outer ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error: Async function with try/catch ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error: Async function with finally ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error: Catch and access error properties ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error: Access error message property ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Interop Deep Dive: HQL imports JS function ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
Interop Deep Dive: HQL imports JS variadic function ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Interop Deep Dive: HQL imports JS constant ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Interop Deep Dive: HQL imports and uses JS class ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Interop Deep Dive: transpile() produces valid JavaScript ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Interop Deep Dive: run() executes and returns result ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Interop Deep Dive: HQL arrays are JS arrays ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Interop Deep Dive: HQL objects are JS objects ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Interop Deep Dive: HQL functions are JS functions ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Interop Deep Dive: HQL closures work like JS closures ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Interop Deep Dive: Using Promise.resolve ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Interop Deep Dive: Array destructuring and spread ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Interop Deep Dive: JSON manipulation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Interop Deep Dive: Dot notation with multiple chaining ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Interop Deep Dive: Dot notation with property and method mix ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Interop Deep Dive: Null and undefined handling ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Interop Deep Dive: this binding in methods ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
JS Import HQL: Compile HQL and verify it exports correctly ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
JS Import HQL: Write, import, and use compiled HQL module ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
JS Import HQL: Complex HQL module with classes ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Circular HQL-JS: Verify circular imports work from test context ... [0m[32mok[0m [0m[38;5;245m(12ms)[0m
[0m[38;5;245mrunning 23 tests from ./test/organized/syntax/loop/loop.test.ts[0m
Loop: basic loop with recur ... [0m[32mok[0m [0m[38;5;245m(37ms)[0m
Loop: loop with multiple bindings ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Loop: factorial using loop/recur ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Loop: fibonacci using loop/recur ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Loop: countdown using loop/recur ... [0m[32mok[0m [0m[38;5;245m(5ms)[0m
Loop: sum of array using loop/recur ... [0m[32mok[0m [0m[38;5;245m(10ms)[0m
Loop: collect even numbers ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Loop: find first element matching condition ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Loop: tail-call optimization pattern ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Loop: nested loop simulation ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
While: basic while loop ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
While: while loop with array operations ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
While: while loop early termination ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Repeat: basic repeat loop ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Repeat: repeat with multiple expressions ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Repeat: repeat with counter accumulation ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
For: single arg range (0 to n-1) ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
For: two arg range (start to end-1) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
For: three arg range with step ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
For: named to: syntax ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
For: named from: to: syntax ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
For: named from: to: by: syntax ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
For: collection iteration ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
[0m[38;5;245mrunning 20 tests from ./test/organized/syntax/macro/macro.test.ts[0m
Quote: quote symbol returns string ... [0m[32mok[0m [0m[38;5;245m(21ms)[0m
Quote: quote number returns number ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Quote: quote string returns string ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Quote: quote boolean returns boolean ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Quote: quote null literal ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Quote: quote empty list returns empty array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Quote: quote list of symbols returns array of strings ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Quote: quote nested list ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Quasiquote: quasiquote without unquote acts like quote ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Quasiquote: quasiquote with unquote evaluates expression ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Quasiquote: quasiquote with multiple unquotes ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Quasiquote: quasiquote with unquote-splicing ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Quasiquote: quasiquote with multiple unquote-splicings ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Backtick: backtick without tilde acts like quote ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Backtick: backtick with tilde (~) for unquote ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Backtick: backtick with ~@ for unquote-splicing ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Quote: macro using quasiquote and unquote ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Quote: macro with unquote-splicing for variadic arguments ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Quote: nested quasiquote with unquote ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Quote: quasiquote with complex expression in unquote ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 47 tests from ./test/organized/syntax/operator/operator.test.ts[0m
Operator: addition (+) with integers ... [0m[32mok[0m [0m[38;5;245m(21ms)[0m
Operator: addition (+) with floats ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: addition (+) with multiple operands ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Operator: subtraction (-) with integers ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: subtraction (-) with floats ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: multiplication (*) with integers ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: multiplication (*) with floats ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: division (/) with integers ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: division (/) with floats ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: modulo (%) with integers ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: nested arithmetic expressions ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: less than (<) true case ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: less than (<) false case ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: greater than (>) true case ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: greater than (>) false case ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: less than or equal (<=) equal case ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: less than or equal (<=) less case ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: greater than or equal (>=) equal case ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: greater than or equal (>=) greater case ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: equality (=) with numbers ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: equality (=) with strings ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: inequality (!=) true case ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: inequality (!=) false case ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: logical and (and) both true ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Operator: logical and (and) one false ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: logical and (and) both false ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: logical or (or) both true ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: logical or (or) one true ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: logical or (or) both false ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: logical not (not) with true ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Operator: logical not (not) with false ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Primitive: integer number ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Primitive: floating point number ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Primitive: negative number ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Primitive: string literal ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Primitive: empty string ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Primitive: boolean true ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Primitive: boolean false ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Primitive: null value ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Primitive: undefined value ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
String: concatenation with + ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
String: length property access ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
String: charAt method ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Combined: arithmetic with comparison ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Combined: comparison with logical operators ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Combined: complex nested expression ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Combined: arithmetic in variable assignment ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 23 tests from ./test/parser-validation.test.ts[0m
Parser: balanced parentheses ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: unbalanced parentheses - missing closing ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: unbalanced parentheses - extra closing ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: balanced brackets ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: unbalanced brackets - missing closing ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: unbalanced brackets - extra closing ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: balanced braces ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: unbalanced braces - missing closing ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: unbalanced braces - extra closing ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: nested balanced structures ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: nested unbalanced - inner missing close ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: mismatched brackets ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: multiple expressions balanced ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: multiple expressions - one unbalanced ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: empty input ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: whitespace only ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: comments only ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: code with comments ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: string with brackets ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: quote syntax ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: quasiquote syntax ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: complex real-world example ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Parser: import statement validation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 1 test from ./test/range-lazy-consistency.test.ts[0m
Range Lazy Consistency ...
  (range 5) returns LazySeq (verified from JS) ... [0m[32mok[0m [0m[38;5;245m(22ms)[0m
  (range 5) produces correct values when forced ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
  Indirect call returns LazySeq (verified from JS) ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
  __hql_range returns LazySeq (verified from JS) ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
  All implementations produce identical results ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
  Range with start and end ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
  Range with start, end, and step ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
  Range with negative step ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
  Infinite range - take first 10 ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
  Laziness verified - only compute what's needed ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
  Large range is fast (lazy) ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
  Transpiled code uses lazy range ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
  Range composition with map/filter/take ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
  Nested range usage ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Range Lazy Consistency ... [0m[32mok[0m [0m[38;5;245m(43ms)[0m
[0m[38;5;245mrunning 12 tests from ./test/runtime-macros.test.ts[0m
Runtime Macros - Basic Definition ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Runtime Macros - Parameter Substitution ... [0m[32mok[0m [0m[38;5;245m(10ms)[0m
Runtime Macros - Rest Parameters ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Runtime Macros - Mixed Parameters ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Runtime Macros - Empty Parameters ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Runtime Macros - Persistence Across Evaluations ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Runtime Macros - Reset Functionality ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Runtime Macros - Isolation from Stateless Compiler ... [0m[32mok[0m [0m[38;5;245m(11ms)[0m
Runtime Macros - Complex Nested Expansion ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Runtime Macros - Macroexpand vs Macroexpand1 ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Runtime Macros - No Re-tagging Warnings ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Runtime Macros - Cache Invalidation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 28 tests from ./test/stdlib-autoload.test.ts[0m
Stdlib: take auto-loaded (no import needed) ... [0m[32mok[0m [0m[38;5;245m(24ms)[0m
Stdlib: range auto-loaded (lazy infinite generator) ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Stdlib: map auto-loaded ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Stdlib: filter auto-loaded ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Stdlib: reduce auto-loaded ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Stdlib: keys auto-loaded ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Stdlib: groupBy auto-loaded ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Stdlib: lazy chaining works ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Stdlib: first auto-loaded ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Stdlib: first with empty array ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Stdlib: rest auto-loaded ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Stdlib: cons auto-loaded ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Stdlib: isEmpty auto-loaded ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Stdlib: isEmpty with non-empty ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Stdlib: some auto-loaded ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Stdlib: some returns null when no match ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Stdlib: comp auto-loaded (function composition) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Stdlib: partial auto-loaded (partial application) ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Stdlib: apply auto-loaded ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Stdlib: iterate auto-loaded (infinite sequence) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Stdlib: integration - Lisp trinity (first + rest + cons) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Stdlib: integration - comp with partial ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Stdlib: integration - chaining with new functions ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Stdlib: isEmpty handles LazySeq with undefined element ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Stdlib: groupBy preserves key types (Map-based) ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Stdlib: flatten handles Set ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Stdlib: flatten handles Map (iterates entries) ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Stdlib: flatten does NOT flatten strings ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
[0m[38;5;245mrunning 20 tests from ./test/stdlib-conversions.test.ts[0m
vec: from array - creates new copy ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
vec: from Set ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
vec: from Map entries ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
vec: from string ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
vec: from LazySeq ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
vec: nil input returns empty array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
vec: empty array returns new empty array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
vec: preserves order ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
vec: from iterable (custom) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
vec: mutation of result doesn't affect original ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
set: from array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
set: from Set - creates new copy ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
set: removes duplicates ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
set: from string ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
set: from Map keys ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
set: nil input returns empty Set ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
set: empty array returns empty Set ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
set: preserves object references ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
set: mutation of result doesn't affect original ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
set: from iterable (custom) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 10 tests from ./test/stdlib-date.test.ts[0m
@hql/date - now returns timestamp ... [0m[32mok[0m [0m[38;5;245m(30ms)[0m
@hql/date - parse ISO string ... [0m[32mok[0m [0m[38;5;245m(7ms)[0m
@hql/date - format timestamp ... [0m[32mok[0m [0m[38;5;245m(8ms)[0m
@hql/date - add milliseconds ... [0m[32mok[0m [0m[38;5;245m(6ms)[0m
@hql/date - diff timestamps ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
@hql/date - parse and format roundtrip ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/date - now and format ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/date - add one day ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
@hql/date - diff negative ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/date - multiple operations ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
[0m[38;5;245mrunning 8 tests from ./test/stdlib-fs.test.ts[0m
@hql/fs - write and read file ... [0m[32mok[0m [0m[38;5;245m(32ms)[0m
@hql/fs - exists? returns true ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
@hql/fs - exists? returns false ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/fs - remove file ... [0m[32mok[0m [0m[38;5;245m(8ms)[0m
@hql/fs - write overwrites existing ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/fs - multiple operations ... [0m[32mok[0m [0m[38;5;245m(13ms)[0m
@hql/fs - read then use content ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/fs - cleanup test directory ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 87 tests from ./test/stdlib-fundamentals.test.ts[0m
first: returns first element of array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
first: returns undefined for empty array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
first: returns undefined for null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
first: works with strings ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
first: works with lazy sequences ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
rest: returns all but first element ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
rest: returns empty for single element ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
rest: returns empty for empty array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
rest: returns empty for null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
rest: is lazy ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cons: prepends element to array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cons: prepends to empty array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cons: prepends to null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cons: is lazy ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cons + first + rest: Lisp trinity works together ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
isEmpty: returns true for empty array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
isEmpty: returns false for non-empty array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
isEmpty: returns true for null/undefined ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
isEmpty: works with strings ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
isEmpty: works with lazy sequences ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
some: finds first truthy value ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
some: returns null when no match ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
some: returns first match ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
some: works with identity check ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
some: returns null for null collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
some: short-circuits (doesn't evaluate all) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
comp: composes two functions ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
comp: composes three functions ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
comp: applies right-to-left ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
comp: with no functions returns identity ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
comp: with one function returns that function ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
comp: real-world example (data pipeline) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
partial: partially applies first argument ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
partial: partially applies multiple arguments ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
partial: can create specialized functions ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
partial: works with filter ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
apply: calls function with array args ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
apply: works with Math.max ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
apply: works with variadic functions ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
apply: works with LazySeq ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
apply: works with Set ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
iterate: generates sequence by iteration ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
iterate: increment sequence ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
iterate: is lazy (infinite) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
iterate: Fibonacci sequence ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
iterate: powers of 2 ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Integration: comp + partial + map ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Integration: iterate + first + rest ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Integration: cons + some + comp ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Integration: Real-world data pipeline ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Integration: isEmpty + rest recursion pattern ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
map: throws TypeError for non-function ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
filter: throws TypeError for non-function ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
some: throws TypeError for non-function ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
comp: throws TypeError for non-function argument ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
partial: throws TypeError for non-function ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
apply: throws TypeError for non-iterable ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
apply: throws TypeError for null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
take: throws TypeError for negative number ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
drop: throws TypeError for negative number ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
range: throws TypeError for zero step ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
iterate: throws TypeError for non-function ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
groupBy: throws TypeError for non-function ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
reduce: throws TypeError for non-function ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
concat: handles all null arguments ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
concat: mixes arrays and nulls ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
flatten: handles already-flat arrays ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
flatten: handles mixed nested and flat ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
distinct: handles empty collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
distinct: handles single element ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
distinct: uses identity for objects ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
reduce: returns init for empty collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
reduce: handles single element ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
reduce: works with null collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
comp: propagates errors from composed functions ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
partial: works with variadic functions ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
groupBy: handles key collisions correctly ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
groupBy: handles empty collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
groupBy: handles null collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keys: returns empty array for null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keys: returns keys from object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
realized: returns true for arrays ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
realized: returns true for null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
realized: returns false for non-exhausted LazySeq ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
realized: returns true after full realization ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Integration: null handling in complex chains ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Integration: chaining lazy operations ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 4 tests from ./test/stdlib-http.test.ts[0m
@hql/http - request is exported as function ... [0m[32mok[0m [0m[38;5;245m(30ms)[0m
@hql/http - get is exported as function ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/http - post is exported as function ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/http - all functions exported together ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
[0m[38;5;245mrunning 93 tests from ./test/stdlib-map-ops.test.ts[0m
get: object with existing key ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
get: object with missing key returns notFound ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
get: object with missing key returns undefined by default ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
get: Map with existing key ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
get: Map with missing key returns notFound ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
get: nil map returns notFound ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
get: handles falsy values ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
get: numeric keys with object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
get: Map preserves key types ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
get: Map with object key ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
getIn: nested object access ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
getIn: deep nesting ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
getIn: missing path returns notFound ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
getIn: empty path returns the map itself ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
getIn: single key path (same as get) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
getIn: short-circuits on null in path ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
getIn: nil root returns notFound ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
getIn: array as intermediate collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
getIn: mixed Map and Object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
getIn: nested arrays ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
getIn: handles falsy intermediate values ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
getIn: undefined vs notFound ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assoc: object - add new key ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assoc: object - update existing key ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assoc: Map - add new key ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assoc: Map - update existing key ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assoc: nil map creates new object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assoc: numeric key with object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assoc: object key preserved as string ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assoc: Map with object as key ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assoc: empty object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assoc: preserves other properties ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assoc: value can be any type ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assoc: handles undefined and null values ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assocIn: nested object - update existing path ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assocIn: create new nested path ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assocIn: deep nesting ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assocIn: single key path (same as assoc) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assocIn: empty path returns value itself ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assocIn: preserves sibling properties ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assocIn: creates array when key is numeric ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assocIn: mixed object and array creation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assocIn: update in array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assocIn: nil root creates new object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assocIn: partial existing path ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assocIn: with Map in path ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assocIn: deeply nested array indices ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assocIn: overwrites non-object intermediate values ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
assocIn: immutability at all levels ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
dissoc: remove single key from object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
dissoc: remove multiple keys from object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
dissoc: non-existent key doesn't affect result ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
dissoc: Map - remove single key ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
dissoc: Map - remove multiple keys ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
dissoc: nil map returns empty object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
dissoc: remove all keys creates empty object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
dissoc: no keys provided still creates new object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
dissoc: numeric keys ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
dissoc: preserves other properties ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
update: transform existing value ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
update: function receives undefined for missing key ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
update: Map - transform value ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
update: string transformation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
update: array transformation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
update: nil map creates new with transformed undefined ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
update: function can return any type ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
update: preserves other keys ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
update: with boolean toggle ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
update: nested object transformation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
updateIn: nested transformation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
updateIn: deep nesting ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
updateIn: creates path if missing ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
updateIn: single key path (same as update) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
updateIn: array index ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
updateIn: mixed object and array path ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
updateIn: nil root creates path ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
updateIn: preserves siblings at all levels ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
updateIn: empty path applies fn to whole map ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
updateIn: function receives undefined for missing nested path ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
updateIn: immutability at all levels ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
updateIn: with Map in path ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
merge: two objects ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
merge: later values win ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
merge: multiple objects ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
merge: originals unchanged ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
merge: Maps ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
merge: nil maps are ignored ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
merge: all nil returns empty object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
merge: no arguments returns empty object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
merge: single object returns copy ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
merge: overwrites with undefined ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
merge: nested objects (shallow merge) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
merge: preserves all keys from all sources ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 13 tests from ./test/stdlib-math.test.ts[0m
@hql/math - abs positive ... [0m[32mok[0m [0m[38;5;245m(30ms)[0m
@hql/math - abs negative ... [0m[32mok[0m [0m[38;5;245m(5ms)[0m
@hql/math - floor positive ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/math - floor negative ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/math - ceil positive ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/math - ceil negative ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/math - round up ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/math - round down ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
@hql/math - min with multiple args ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
@hql/math - min with negative ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/math - max with multiple args ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/math - max with negative ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/math - multiple imports together ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
[0m[38;5;245mrunning 16 tests from ./test/stdlib-string.test.ts[0m
@hql/string - split basic ... [0m[32mok[0m [0m[38;5;245m(30ms)[0m
@hql/string - split with different separator ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
@hql/string - join basic ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
@hql/string - join with space ... [0m[32mok[0m [0m[38;5;245m(39ms)[0m
@hql/string - trim whitespace ... [0m[32mok[0m [0m[38;5;245m(7ms)[0m
@hql/string - upper-case ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/string - lower-case ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/string - multiple imports together ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
@hql/string - aliased import ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/string - works with core functions ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/string - starts-with? true case ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/string - starts-with? false case ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/string - ends-with? true case ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/string - ends-with? false case ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/string - replace basic ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
@hql/string - replace with empty string ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
[0m[38;5;245mrunning 15 tests from ./test/stdlib-test.test.ts[0m
@hql/test - assert passes with truthy values ... [0m[32mok[0m [0m[38;5;245m(32ms)[0m
@hql/test - assert fails with falsy values ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL5002]:[0m[0m should fail

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql/<anonymous>.hql:1:1[0m
[36mSuggestion: Check runtime type mismatches or invalid operations.[0m
[0m[38;5;245m----- post-test output end -----[0m
@hql/test - assert fails with falsy values ... [0m[32mok[0m [0m[38;5;245m(8ms)[0m
@hql/test - assert passes with truthy condition ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
@hql/test - assert fails with falsy condition ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL5002]:[0m[0m 1 does not equal 2

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql/<anonymous>.hql:1:1[0m
[36mSuggestion: Check runtime type mismatches or invalid operations.[0m
[0m[38;5;245m----- post-test output end -----[0m
@hql/test - assert fails with falsy condition ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
@hql/test - assert-eq passes with equal numbers ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
@hql/test - assert-eq fails with unequal numbers ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL5002]:[0m[0m numbers are not equal - Expected: 43, Actual: 42

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql/<anonymous>.hql:1:1[0m
[36mSuggestion: Check runtime type mismatches or invalid operations.[0m
[0m[38;5;245m----- post-test output end -----[0m
@hql/test - assert-eq fails with unequal numbers ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
@hql/test - assert-eq passes with equal strings ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/test - assert-eq passes with equal objects ... [0m[32mok[0m [0m[38;5;245m(5ms)[0m
@hql/test - assert-eq fails with unequal objects ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/test - assert-eq passes with equal arrays ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
@hql/test - assert-throws passes when function throws ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
@hql/test - assert-throws fails when function doesn't throw ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL5002]:[0m[0m Expected function to throw an error, but it didn't

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql/<anonymous>.hql:1:1[0m
[36mSuggestion: Check runtime type mismatches or invalid operations.[0m
[0m[38;5;245m----- post-test output end -----[0m
@hql/test - assert-throws fails when function doesn't throw ... [0m[32mok[0m [0m[38;5;245m(5ms)[0m
@hql/test - assert-throws passes with matching message ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
@hql/test - assert-throws ignores message parameter ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
@hql/test - all functions work together ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
[0m[38;5;245mrunning 45 tests from ./test/stdlib-week1.test.ts[0m
nth: array in bounds ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
nth: array out of bounds without notFound throws ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
nth: array out of bounds with notFound returns fallback ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
nth: null without notFound throws ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
nth: null with notFound returns fallback ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
nth: negative index throws TypeError ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
nth: non-integer index throws TypeError ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
nth: zero index returns first element ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
nth: last valid index ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
nth: string access ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
nth: string out of bounds ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
nth: LazySeq in bounds ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
nth: LazySeq out of bounds with notFound ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
nth: Set iteration ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
nth: empty collection with notFound ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
nth: notFound can be null or undefined ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
count: array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
count: empty array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
count: string ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
count: empty string ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
count: null and undefined ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
count: Set ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
count: empty Set ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
count: Map ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
count: empty Map ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
count: LazySeq ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
count: forces eager realization with side effects ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
count: finite portion of infinite sequence ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
second: multiple elements ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
second: single element returns null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
second: empty returns null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
second: null returns null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
second: string ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
second: single character string returns null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
second: LazySeq ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
last: multiple elements ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
last: single element ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
last: empty array returns null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
last: null returns null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
last: string ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
last: single character string ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
last: empty string returns null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
last: LazySeq forces full realization ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
last: finite portion of infinite sequence ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
last: Set returns last in iteration order ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 54 tests from ./test/stdlib-week2.test.ts[0m
mapIndexed: array with index ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapIndexed: use index in arithmetic ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapIndexed: empty array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapIndexed: nil collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapIndexed: single element ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapIndexed: string iteration ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapIndexed: LazySeq preserves laziness ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapIndexed: Set iteration order ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapIndexed: invalid function throws TypeError ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapIndexed: index starts at 0 and increments ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keepIndexed: keep even indices ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keepIndexed: return indices where value > 5 ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keepIndexed: all nil results ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keepIndexed: none nil results ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keepIndexed: nil collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keepIndexed: empty collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keepIndexed: undefined is filtered ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keepIndexed: 0 is kept (falsy but not nil) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keepIndexed: false is kept (falsy but not nil) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keepIndexed: empty string is kept (falsy but not nil) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keepIndexed: LazySeq preserves laziness ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keepIndexed: invalid function throws ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapcat: basic expansion ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapcat: variable length results ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapcat: some empty results ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapcat: all empty results ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapcat: reverse nested arrays ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapcat: nil collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapcat: empty collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapcat: function returns string (iterable) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapcat: function returns non-iterable throws ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
mapcat: LazySeq preserves laziness ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keep: keep even numbers ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keep: transform and filter ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keep: all nil ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keep: none nil ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keep: nil collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keep: empty ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keep: identity filters nil and undefined ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keep: 0 is kept (falsy but not nil) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keep: false is kept (falsy but not nil) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
keep: LazySeq preserves laziness ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
distinct: duplicate numbers ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
distinct: duplicate strings ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
distinct: no duplicates ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
distinct: all duplicates ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
distinct: empty ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
distinct: nil ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
distinct: single element ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
distinct: objects by reference - different objects both kept ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
distinct: same object reference deduped ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
distinct: NaN handled correctly ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
distinct: mixed types are distinct ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
distinct: null vs undefined are distinct ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 49 tests from ./test/stdlib-week3.test.ts[0m
seq: array returns LazySeq ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
seq: empty array returns null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
seq: null returns null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
seq: undefined returns null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
seq: string returns character sequence ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
seq: empty string returns null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
seq: Set returns LazySeq ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
seq: empty Set returns null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
seq: Map returns entry sequence ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
seq: object returns entry sequence ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
seq: empty object returns null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
seq: empty LazySeq pass-through ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
seq: LazySeq maintains lazy evaluation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
empty: array returns fresh empty array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
empty: string returns empty string ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
empty: Set returns new empty Set ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
empty: Map returns new empty Map ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
empty: object returns fresh empty object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
empty: LazySeq returns EMPTY_LAZY_SEQ ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
empty: null returns null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
empty: preserves collection type ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
empty: returns fresh instances ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
empty: non-collection throws TypeError ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
conj: array with single item ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
conj: array with multiple items ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
conj: empty array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
conj: Set adds unique items ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
conj: Set with duplicates ignored ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
conj: Map with [key, value] pair ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
conj: Map with multiple entries ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
conj: Map with non-pair throws ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
conj: object with [key, value] pair ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
conj: object with non-pair throws ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
conj: string concatenation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
conj: null creates array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
conj: immutability - array not mutated ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
conj: no items returns unchanged ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
into: array into array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
into: array into Set deduplicates ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
into: entries into Map ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
into: Set into array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
into: Map into object ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
into: empty into empty ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
into: empty from ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
into: null to creates array ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
into: null from ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
into: LazySeq from realizes fully ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
into: type preservation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
into: immutability - original unchanged ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 30 tests from ./test/stdlib-week4.test.ts[0m
repeat: basic repetition ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
repeat: with objects (same reference) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
repeat: with null ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
repeat: with take(0) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
repeat: lazy evaluation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
repeat: large take ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
repeat: with functions (same reference) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
repeat: with arrays (same reference) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
repeatedly: counter function ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
repeatedly: object generator (fresh references) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
repeatedly: constant function ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
repeatedly: Math.random uniqueness ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
repeatedly: with take(0) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
repeatedly: lazy evaluation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
repeatedly: side effects during realization ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
repeatedly: invalid function throws ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
repeatedly: large take ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
repeatedly: null function throws ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cycle: basic array cycle ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cycle: string cycle ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cycle: single element ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cycle: empty array returns EMPTY_LAZY_SEQ ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cycle: null returns EMPTY_LAZY_SEQ ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cycle: Set cycle ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cycle: multiple complete cycles ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cycle: partial cycle ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cycle: lazy evaluation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cycle: LazySeq realizes then cycles ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cycle: large take ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
cycle: with take(0) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 30 tests from ./test/stdlib-week5.test.ts[0m
every: all items match ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
every: some items don't match ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
every: empty collection (vacuous truth) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
every: nil collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
every: early termination on first false ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
every: with falsy values ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
every: LazySeq minimal realization ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
every: invalid predicate throws ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
notAny: no items match ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
notAny: some items match ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
notAny: empty collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
notAny: nil collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
notAny: early termination on first true ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
notAny: LazySeq minimal realization ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
notAny: invalid predicate throws ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
notEvery: all items match ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
notEvery: some items don't match ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
notEvery: empty collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
notEvery: nil collection ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
notEvery: early termination on first false ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
notEvery: LazySeq minimal realization ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
notEvery: invalid predicate throws ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
isSome: null returns false ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
isSome: undefined returns false ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
isSome: 0 returns true ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
isSome: false returns true ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
isSome: empty string returns true ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
isSome: empty array returns true ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
isSome: empty object returns true ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
isSome: truthy values return true ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 26 tests from ./test/syntax-arrow-lambda.test.ts[0m
Arrow Lambda: single implicit param $0 ... [0m[32mok[0m [0m[38;5;245m(25ms)[0m
Arrow Lambda: two implicit params $0 $1 ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Arrow Lambda: three implicit params ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Arrow Lambda: gap in param usage ($0 and $2) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Arrow Lambda: inline call with implicit params ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Arrow Lambda: explicit single param ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Arrow Lambda: explicit two params ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Arrow Lambda: explicit zero params ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Arrow Lambda: with map ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Arrow Lambda: with filter ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Arrow Lambda: with reduce ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Arrow Lambda: chained map and filter ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Arrow Lambda: nested in map ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Arrow Lambda: nested explicit and implicit ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Arrow Lambda: multi-line body (using do) ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Arrow Lambda: with conditional ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Arrow Lambda: accessing object properties ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Arrow Lambda: error on no params and no $N ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL4001]:[0m[0m Transformation failed: [HQL4001] Failed to transform arrow lambda: [HQL3008] Arrow lambda with implicit parameters must use $0, $1, $2, etc. or provide explicit parameter list

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql:1:1[0m
[36mSuggestion: Issue occurred during Transformation failed phase.[0m
[0m[38;5;245m----- post-test output end -----[0m
Arrow Lambda: error on no params and no $N ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Arrow Lambda: error on missing body with explicit params ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL4001]:[0m[0m Transformation failed: [HQL4001] Failed to transform arrow lambda: [HQL3008] Arrow lambda with implicit parameters must use $0, $1, $2, etc. or provide explicit parameter list

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql:1:1[0m
[36mSuggestion: Issue occurred during Transformation failed phase.[0m
[0m[38;5;245m----- post-test output end -----[0m
Arrow Lambda: error on missing body with explicit params ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Arrow Lambda: error on too many implicit params ...
[0m[38;5;245m------- post-test output -------[0m
[31m[1merror[HQL4001]:[0m[0m Transformation failed: [HQL4001] Failed to transform arrow lambda: [HQL3008] Arrow lambda has too many implicit parameters ($300). Maximum is $254

[35m[1mWhere:[0m[0m [37m/Users/seoksoonjang/Desktop/hql:1:1[0m
[36mSuggestion: Issue occurred during Transformation failed phase.[0m
[0m[38;5;245m----- post-test output end -----[0m
Arrow Lambda: error on too many implicit params ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Arrow Lambda: sort array ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Arrow Lambda: find in array ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Arrow Lambda: transform data ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Arrow Lambda: compose operations ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
Arrow Lambda: empty parameter list ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Arrow Lambda: $0 in nested structure ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
[0m[38;5;245mrunning 3 tests from ./test/syntax-circular.test.ts[0m
Circular: basic circular dependency ... [0m[32mok[0m [0m[38;5;245m(38ms)[0m
Circular: multi-hop circular dependency (Aâ†’Bâ†’Câ†’A) ... [0m[32mok[0m [0m[38;5;245m(7ms)[0m
Circular: direct value access from circular import ... [0m[32mok[0m [0m[38;5;245m(5ms)[0m
[0m[38;5;245mrunning 10 tests from ./test/syntax-deep-freeze.test.ts[0m
Deep Freeze: nested object is frozen ... [0m[32mok[0m [0m[38;5;245m(69ms)[0m
Deep Freeze: nested array is frozen ... [0m[32mok[0m [0m[38;5;245m(9ms)[0m
Deep Freeze: deeply nested object is frozen ... [0m[32mok[0m [0m[38;5;245m(11ms)[0m
Deep Freeze: mixed nested structures are frozen ... [0m[32mok[0m [0m[38;5;245m(30ms)[0m
Deep Freeze: reading nested values still works ... [0m[32mok[0m [0m[38;5;245m(4ms)[0m
Deep Freeze: Object.isFrozen confirms deep freeze ... [0m[32mok[0m [0m[38;5;245m(6ms)[0m
Deep Freeze: array elements are frozen ... [0m[32mok[0m [0m[38;5;245m(12ms)[0m
Deep Freeze: primitives in let bindings work ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Deep Freeze: comparing with var (mutable) ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Deep Freeze: let prevents array mutation ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
[0m[38;5;245mrunning 23 tests from ./test/syntax-dot-notation-spaceless.test.ts[0m
Equivalence: Method chain - no args ... [0m[32mok[0m [0m[38;5;245m(33ms)[0m
Equivalence: Method chain - with args ... [0m[32mok[0m [0m[38;5;245m(6ms)[0m
Equivalence: Single method call ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Equivalence: Multiple args per method ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Equivalence: Complex chain with multiple args ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Spaceless: Simple chain no args ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Spaceless: Chain with arguments ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Spaceless: Triple chain ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Spaceless: Long chain ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Edge Case: js/ prefix not normalized ...
[0m[38;5;245m------- post-test output -------[0m
test
[0m[38;5;245m----- post-test output end -----[0m
Edge Case: js/ prefix not normalized ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Edge Case: Prefix dot syntax unchanged ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Edge Case: Numeric literal with decimal unchanged ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Edge Case: Arguments with dots stay as property access ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
Edge Case: Consecutive dots normalized away ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Edge Case: Property access in arguments ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Regression: Bare property access still works ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Regression: Spaced chains still work ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Regression: Complex spaced chains with args still work ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Regression: Mixed property and method access ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Regression: Multiline spaced notation ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Real-world: Data pipeline spaceless ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Real-world: String manipulation ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Real-world: Array operations ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
[0m[38;5;245mrunning 16 tests from ./test/syntax-error.test.ts[0m
Error: throw string error ... [0m[32mok[0m [0m[38;5;245m(26ms)[0m
Error: throw number error ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error: throw after helper retains thrown value ... [0m[32mok[0m [0m[38;5;245m(5ms)[0m
Error: try/catch catches thrown error ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error: try/catch with no error returns value ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error: try/catch can access error parameter ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error: try/finally executes finally block ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error: try/finally returns try value ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error: try/catch/finally all execute on error ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error: try/catch/finally executes finally on success ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
Error: nested try/catch blocks ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error: catch in inner, rethrow to outer ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error: function with try/catch for safe division ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error: throw from function caught outside ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Error: try block returns successful value ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Error: catch block handles actual error ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
[0m[38;5;245mrunning 13 tests from ./test/syntax-gensym.test.ts[0m
gensym: generates unique symbols ... [0m[32mok[0m [0m[38;5;245m(22ms)[0m
gensym: uses default prefix 'g' ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
gensym: accepts custom prefix ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
gensym: generates sequential unique names ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
gensym: prevents variable capture in macros ... [0m[32mok[0m [0m[38;5;245m(3ms)[0m
gensym: allows macro to use unique bindings ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
gensym: swap macro with proper hygiene ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
gensym: when-let macro with gensym binding ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
gensym: nested macros each get unique symbols ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
gensym: compare manual vs gensym hygiene ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
gensym: works across multiple macro invocations ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
gensym: multiple gensyms in same macro ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
gensym: empty prefix still works ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 5 tests from ./test/syntax-infinity.test.ts[0m
Infinity: basic Infinity value ... [0m[32mok[0m [0m[38;5;245m(21ms)[0m
Infinity: comparison with numbers ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Infinity: arithmetic operations ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Infinity: used in variable binding ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Infinity: negative Infinity ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
[0m[38;5;245mrunning 38 tests from ./test/syntax-lazy-sequences.test.ts[0m
LazySeq: iterator created only once ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
LazySeq: memoization works ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
take: returns LazySeq ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
take: is lazy (side-effect proof) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
take: early termination works ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
take: works with arrays ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
take: empty/null input ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
REPL: toString() shows preview (max 20 items) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
REPL: toString() shows full content for small sequences ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
REPL: infinite sequences don't hang ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
REPL: inspect() returns array with '...' for large sequences ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
REPL: inspect() shows full content for small sequences ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
REPL: no computation until toString() called ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
map: returns LazySeq ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
map: is lazy (side-effect proof) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
map: works with arrays ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
map: empty/null input ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
filter: returns LazySeq ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
filter: is lazy (side-effect proof) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
filter: works with arrays ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
filter: empty/null input ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
reduce: is EAGER (forces full evaluation) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
reduce: works with arrays ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
reduce: empty/null input ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
drop: is lazy ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
concat: is lazy ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
flatten: is lazy and flattens one level ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
distinct: is lazy and removes duplicates ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
doall: forces full evaluation ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
realized: checks if LazySeq is exhausted ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
rangeGenerator: no args â†’ infinite sequence from 0 ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
rangeGenerator: no args is lazy (side-effect proof) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
rangeGenerator: no args with toString (REPL safety) ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
rangeGenerator: no args with custom step ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
rangeGenerator: no args with negative step ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
rangeGenerator: Clojure compatibility - all signatures ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
rangeGenerator: explicit Infinity still works ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
rangeGenerator: infinite from specific start ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
[0m[38;5;245mrunning 20 tests from ./test/syntax-property.test.ts[0m
Property: access object property with dot notation ... [0m[32mok[0m [0m[38;5;245m(28ms)[0m
Property: access nested property with dot notation ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Property: access array length property ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Property: access string length property ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Property: access with get function and string key ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Property: access array element with get and numeric index ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Property: access nested property with chained get ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Property: call method with dot notation ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Property: call method with arguments ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Property: call array push method ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Property: call array map method with anonymous fn ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Property: call array filter method with anonymous fn ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Property: chain multiple method calls ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Property: chain map and filter operations ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Property: access class instance property ... [0m[32mok[0m [0m[38;5;245m(2ms)[0m
Property: call class instance method ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Property: access property with variable key ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Property: access array element with variable index ... [0m[32mok[0m [0m[38;5;245m(0ms)[0m
Property: modify object property via set! ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
Property: add new property via set! ... [0m[32mok[0m [0m[38;5;245m(1ms)[0m
[0m[38;5;245mrunning 1 test from ./test/verify-position-comments.test.ts[0m
Check if source maps are generated correctly ...
[0m[38;5;245m------- post-test output -------[0m
=== TESTING SOURCE MAP GENERATION ===

Generated JS code:
const __hql_get = function __hql_get(obj, key, defaultValue) {
  if (obj && typeof obj[key] !== "undefined") {
    return obj[key];
  }
  if (typeof obj === "function") {
    const fnResult = obj(key);
    if (typeof fnResult !== "undefined") {
      return fnResult;
    }
  }
  return defaultValue;
};
const __hql_getNumeric = __hql_get;
const __hql_deepFreeze = function __hql_deepFreeze(obj) {
  // Primitives and null don't need freezing
  if (obj === null || typeof obj !== "object") {
    return obj;
  }
  // Skip freezing for LazySeq objects (they need to mutate _realized, _iterating)
  if (obj.constructor?.name === "LazySeq") {
    return obj;
  }
  // Already frozen objects can be returned as-is
  if (Object.isFrozen(obj)) {
    return obj;
  }
  // Freeze the object itself
  Object.freeze(obj);
  // Recursively freeze all property values
  Object.getOwnPropertyNames(obj).forEach((prop)=>{
    const value = obj[prop];
    if (value !== null && (typeof value === "object" || typeof value === "function")) {
      __hql_deepFreeze(value);
    }
  });
  // Also freeze symbol properties
  Object.getOwnPropertySymbols(obj).forEach((sym)=>{
    const value = obj[sym];
    if (value !== null && (typeof value === "object" || typeof value === "function")) {
      __hql_deepFreeze(value);
    }
  });
  return obj;
};

'use strict';
const data = __hql_deepFreeze([
  1,
  2,
  3
]);
const result = __hql_deepFreeze(map(function (x) {
  return x * 2;
}, data));
const value = __hql_deepFreeze(__hql_get(data, 0));

ESTree Pipeline Architecture:
  1. HQL â†’ AST â†’ IR (Intermediate Representation)
  2. IR â†’ ESTree (Standard JavaScript AST)
  3. ESTree â†’ JS (via escodegen with source-map library)
  4. âœ“ Source maps generated using standard source-map library

âœ“ ESTree pipeline uses industry-standard formats:
  - ESTree AST (used by Babel, ESLint, etc.)
  - Source Map v3 (standard mapping format)
  - No TypeScript compiler dependency
[0m[38;5;245m----- post-test output end -----[0m
Check if source maps are generated correctly ... [0m[32mok[0m [0m[38;5;245m(26ms)[0m

[0m[32mok[0m | 1281 passed (14 steps) | 0 failed [0m[38;5;245m(6s)[0m

